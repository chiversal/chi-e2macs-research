# chi-e2macs-research（驰算·E²-MACS研究）

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)
[![Paper](https://img.shields.io/badge/Paper-Preparing-orange)]()

**chi-e2macs-research** 记录了 **CHI（跨平台异构智能系统）** 及其调度模型 **E²-MACS** 的设计探索、仿真实验与早期工程思考。

> ⚠️ 本仓库仅包含研究成果与仿真记录，**并非生产级框架或运行时系统**。

---

## 🎯 什么是 CHI？

**CHI（Cross-platform Heterogeneous Intelligence，跨平台异构智能系统）** 是一种面向多模型 AI 任务集合，横跨 CPU、GPU 与 NPU 资源，旨在满足**用户感知与交互需求**。

CHI 任务由以下特征定义：
- **多模态处理需求**（如语音识别 ASR + 计算机视觉 CV + 语音合成 TTS）
- 对**动态系统约束**的依赖（如电池电量、温度、实时性要求等）

---

## 🎯 什么是 E²-MACS？

**E²-MACS（End-to-End Multi-Architecture Computing Scheduling，端到端多架构计算调度）** 是面向 CHI 任务的**应用层动态调度器**。

其功能包括：
- **决策任务执行位置**（CPU/GPU/NPU）
- **确定任务执行顺序**

优化目标：
- ✅ **任务成功率** —— 在多变负载下满足任务截止期限
- ⚡ **能效** —— 最小化系统整体功耗
- ⚖️ **资源利用率** —— 平衡异构计算单元的负载

> E²-MACS **与操作系统调度器协同工作**，为任务到资源的映射及执行顺序提供决策指导，**并不替代操作系统调度器**。

---

## 📊 核心仿真结果

基于大规模仿真实验（**超过150万个任务**）：

- 20个负载水平（λ = 2–40）
- 3种任务分布（均匀分布、检测密集型、语音密集型）
- 6种调度策略（含理论最优的 Oracle 上界）

| 场景 | 负载 (λ) | E²-MACS | 最优基线 | 性能提升 |
|------|----------|---------|----------|----------|
| **检测密集型** (60% 检测任务) | 20 | **99.0%** | 0.25% (最快响应策略) | +98.75% |
| **语音密集型** (60% 语音任务) | 40 | **99.5%** | 98.3% (负载均衡策略) | +1.2% |
| **均匀分布** | 30 | **99.7%** | 98.7% (负载均衡策略) | +1.0% |

### 关键发现

- **防止灾难性失效**：在检测密集型负载下，当"最快响应"策略（始终选择 NPU）在 λ=20 时崩溃至 0.25%，E²-MACS 仍保持 99.0% 的成功率
- **自适应负载调节**：NPU 利用率根据负载类型自动从 0.33（语音密集型）调整至 0.62（检测密集型）
- **战略性权衡**：在检测密集型场景中，通过适当增加延迟以维持高成功率

| 指标 | 均匀分布 | 检测密集型 | 语音密集型 |
|------|----------|------------|------------|
| P95 延迟 @ λ=20 | 94 ms | 210 ms | 113 ms |
| NPU 负载 @ λ=20 | 0.30 | 0.62 | 0.33 |
| 能耗 @ λ=20 | 792 J | 1108 J | 650 J |

> 注意：上述结果**仅来源于仿真实验**。实际性能可能因硬件差异、操作系统调度策略、热管理条件及负载变化而有所不同。

---

## 📁 仓库结构

```
chi-e2macs-research/
├── docs/          # 仿真数据集、图表和分析文档
└── papers/           # 论文（进行中）
```

> `docs/` 目录**仅为研究记录**。E²-MACS相关**具体实现，未包含于此**。

---

## 🔬 结果可信度说明

1. **严谨的仿真实验**

   - 20个负载水平、3种任务分布、6种调度策略
   - 固定随机种子以确保实验可复现性

2. **理论验证**

   - M/G/1 排队论模型验证（误差 < 3%）
   - Pollaczek-Khinchin 公式验证
   - 全参数敏感性分析

3. **统计显著性**

   - 每种配置执行 10 次以上独立实验
   - 报告置信区间
   - 采用 P95/P99 指标表征尾部延迟特性

---

## 📄 引用方式

```bibtex
@misc{chi2026e2macs,
  title={E²-MACS: End-to-End Multi-Architecture Computing Scheduling for Heterogeneous Edge AI},
  author={Chi, [chiversal]},
  year={2026},
  howpublished={\url{https://gitee.com/chiversal/chi-e2macs-research}}
}
```

---

## 📈 后续计划

- [ ] 在 Hailo-8 / Raspberry Pi 5 平台上进行真实场景验证（2026年第二季度）
- [ ] 扩展至更多硬件平台（瑞芯微 RK、高通、华为）——**欢迎硬件捐赠或合作研究**
- [ ] 分布式 / 联邦调度（2026年规划中）

---

## 🤝 联系方式

- 📧 邮箱：zc_linuxer@163.com

---

⭐ 若您对本研究成果感兴趣，欢迎 Star 支持！
